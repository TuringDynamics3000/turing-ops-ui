{
  "version": "5",
  "dialect": "mysql",
  "id": "032b7475-eba2-4954-8df3-c222f75209c7",
  "prevId": "37fcb7c2-e234-4f0c-abef-eb87b04c02a3",
  "tables": {
    "decisions": {
      "name": "decisions",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "decisionId": {
          "name": "decisionId",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "enum('PAYMENT','LIMIT_OVERRIDE','AML_EXCEPTION')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "subject": {
          "name": "subject",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "policyCode": {
          "name": "policyCode",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "risk": {
          "name": "risk",
          "type": "enum('LOW','MEDIUM','HIGH','CRITICAL')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "requiredAuthority": {
          "name": "requiredAuthority",
          "type": "enum('SUPERVISOR','COMPLIANCE','DUAL')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('PENDING','APPROVED','REJECTED','ESCALATED','EXECUTING','COMPLETED')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'PENDING'"
        },
        "slaDeadline": {
          "name": "slaDeadline",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "amount": {
          "name": "amount",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "beneficiary": {
          "name": "beneficiary",
          "type": "varchar(256)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "context": {
          "name": "context",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "decisions_id": {
          "name": "decisions_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "decisions_decisionId_unique": {
          "name": "decisions_decisionId_unique",
          "columns": [
            "decisionId"
          ]
        }
      },
      "checkConstraint": {}
    },
    "evidence_packs": {
      "name": "evidence_packs",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "evidenceId": {
          "name": "evidenceId",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "decisionId": {
          "name": "decisionId",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "actorId": {
          "name": "actorId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "actorName": {
          "name": "actorName",
          "type": "varchar(256)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "actorRole": {
          "name": "actorRole",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "action": {
          "name": "action",
          "type": "enum('APPROVED','REJECTED','ESCALATED')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "justification": {
          "name": "justification",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "policySnapshot": {
          "name": "policySnapshot",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "merkleHash": {
          "name": "merkleHash",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "ledgerId": {
          "name": "ledgerId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "evidence_packs_id": {
          "name": "evidence_packs_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "evidence_packs_evidenceId_unique": {
          "name": "evidence_packs_evidenceId_unique",
          "columns": [
            "evidenceId"
          ]
        }
      },
      "checkConstraint": {}
    },
    "policies": {
      "name": "policies",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "code": {
          "name": "code",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(256)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "requiredAuthority": {
          "name": "requiredAuthority",
          "type": "enum('SUPERVISOR','COMPLIANCE','DUAL')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "riskLevel": {
          "name": "riskLevel",
          "type": "enum('LOW','MEDIUM','HIGH','CRITICAL')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'MEDIUM'"
        },
        "isActive": {
          "name": "isActive",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "version": {
          "name": "version",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'1.0'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "policies_id": {
          "name": "policies_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "policies_code_unique": {
          "name": "policies_code_unique",
          "columns": [
            "code"
          ]
        }
      },
      "checkConstraint": {}
    },
    "users": {
      "name": "users",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "openId": {
          "name": "openId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "loginMethod": {
          "name": "loginMethod",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "enum('user','admin','operator','supervisor','compliance')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'user'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "lastSignedIn": {
          "name": "lastSignedIn",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "users_id": {
          "name": "users_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "users_openId_unique": {
          "name": "users_openId_unique",
          "columns": [
            "openId"
          ]
        }
      },
      "checkConstraint": {}
    }
  },
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {},
    "indexes": {}
  }
}